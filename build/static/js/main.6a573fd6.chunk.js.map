{"version":3,"sources":["page/HomePage/HomePage.styl","component/Menu/Menu.styl","component/Menu/Menu.js","page/MainPage/MainPage.styl","page/CollectData/CollectData.styl","page/CollectData/CollectData.js","page/ExcelUploadPage/ExcelUploadPage.styl","page/ExcelUploadPage/ExcelUploadPage.js","page/FinishPage/FinishPage.styl","page/FinishPage/FinishPage.js","page/ConfirmPage/ConfirmPage.js","page/ConfirmPage/ConfirmPage.styl","store/LicenseInfoStore.js","page/MainPage/MainPage.js","store/HomePageStore.js","page/HomePage/HomePage.js","App.js","reportWebVitals.js","index.js"],"names":["MenuList","props","state","collapsed","this","setState","className","style","width","defaultSelectedKeys","mode","theme","inlineCollapsed","Item","icon","PieChartOutlined","type","onClick","toggleCollapsed","marginBottom","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","Component","Dragger","Upload","CollectData","Observer","self","multiple","name","showUploadList","showDownloadIcon","showRemoveIcon","fileList","licenseInfoStore","fileMap","action","uploading","beforeUpload","file","lastModifiedDate","console","log","method","encType","onSubmit","e","accept","InboxOutlined","nextStep","ExcelUploadPage","observer","setUploadBtnRef","element","UploadBtn","enableNext","validExcelFile","errorMessage","excelFile","handleUpload","push","Modal","destroyAll","formData","FormData","append","axios","url","processData","data","responseType","then","res","status","message","catch","error","res2","content","blob","Blob","fileName","document","elink","download","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","navigator","msSaveBlob","homePageStore","closeLoading","showLoading","length","item","downloadFile","showMessage","files","excelName","disabled","submit","FinishPage","title","subTitle","extra","ConfirmPage","dataSource","listStyle","height","titles","render","LicenseInfoStore","Step","Steps","MainPage","current","maxCurrent","propsAttr","getPageBycurrent","onChange","getStepStatus","loading","observable","HomePage","msg","confirm","ExclamationCircleOutlined","onOk","onCancel","size","tip","App","id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"iNAAe,I,6CCAA,I,MC6CAA,E,kDAnCb,WAAYC,GAAQ,IAAD,8BACb,cAAMA,IAEDC,MAAM,CACTC,WAAW,GAJA,E,mDAQjB,WACEC,KAAKC,SAAS,CACZF,WAAYC,KAAKF,MAAMC,c,oBAI3B,WAAU,IAAD,OACL,OACI,qBAAKG,UAAU,OAAOC,MAAO,CAAEC,MAAOJ,KAAKF,MAAMC,UAAU,GAAG,KAA9D,SACA,eAAC,IAAD,CACEM,oBAAqB,CAAC,KACtBC,KAAK,SACLC,MAAM,OACNC,gBAAiBR,KAAKF,MAAMC,UAJ9B,UAME,cAAC,IAAKU,KAAN,CAAmBC,KAAM,cAACC,EAAA,EAAD,IAAzB,kCAAe,KAGf,cAAC,IAAD,CAAQC,KAAK,UAAUC,QAAS,WAAK,EAAKC,mBAAoBX,MAAO,CAAEY,aAAc,IAArF,SACCC,IAAMC,cAAcjB,KAAKF,MAAMC,UAAYmB,IAAqBC,gB,GA5BxDH,IAAMI,W,WCTd,I,qCCAA,I,wBCSPC,EAAYC,IAAZD,QA2EOE,EAzEdC,Y,oDAEG,WAAY3B,GAAQ,IAAD,sBACf,cAAMA,GAEN,IAAI4B,EAAK,eAHM,OAIf,EAAK3B,MAAM,CACP4B,UAAS,EACTC,KAAK,QACLC,eAAe,CACXC,kBAAkB,EAClBC,gBAAgB,GAEpBC,SAAS,EAAKlC,MAAMmC,iBAAiBD,SACrCE,QAAQ,EAAKpC,MAAMmC,iBAAiBC,QACpCC,OAAO,GACPC,WAAW,EACXC,aAAc,SAAAC,GACV,IAAIJ,EAAQR,EAAK3B,MAAMmC,QAqBvB,OAnBGA,EAAQI,EAAKV,MACTM,EAAQI,EAAKV,MAAMW,iBAAiBD,EAAKC,mBACxCL,EAAQI,EAAKV,MAAMU,EACnBZ,EAAKxB,SAAS,CACVgC,QAASA,MAIjBA,EAAQI,EAAKV,MAAMU,EACnBZ,EAAKxB,SAAS,CACVgC,QAASA,KAGjBR,EAAKxB,UAAS,SAAAH,GAAK,MAAK,CACpBiC,SAAS,GAAD,mBAAMjC,EAAMiC,UAAZ,CAAsBM,QAC/B,WACCZ,EAAK5B,MAAMmC,iBAAiBD,SAAS,EAAKjC,MAAMiC,SAChDQ,QAAQC,IAAIf,EAAK5B,MAAMmC,sBAEpB,IArCA,E,0CA2CnB,WAAU,IAAD,OACL,OACI,sBAAK9B,UAAU,cAAf,UACI,uBAAOgC,OAAO,YAAYO,OAAO,OAAOC,QAAQ,sBAAsBC,SAAU,SAACC,GAAKL,QAAQC,IAAII,IAAlG,UACI,qBAAKzC,MAAO,CAAC,UAAY,UAAzB,SACI,uEAEJ,8BACA,eAACkB,EAAD,2BAAarB,KAAKF,OAAlB,IAAyB+C,OAAO,aAAhC,UACI,mBAAG3C,UAAU,uBAAb,SACA,cAAC4C,EAAA,EAAD,MAEA,mBAAG5C,UAAU,kBAAb,uDACA,mBAAGA,UAAU,kBAAb,6HAOR,qBAAMA,UAAU,gBAAhB,SACI,cAAC,IAAD,CAAQU,KAAK,UAAUC,QAAS,WAAK,EAAKhB,MAAMkD,YAAhD,2B,GAjEM/B,IAAMI,a,uBCZjB,I,OCOPC,EAAYC,IAAZD,QAoMO2B,EAjMdC,Y,oDAEG,WAAYpD,GAAQ,IAAD,uBACf,cAAMA,IA2JVqD,gBAAkB,SAAAC,GACd,EAAKrD,MAAMsD,UAAYD,GA1JvB,IAAI1B,EAAK,eAHM,OAIf,EAAK3B,MAAM,CACP4B,UAAS,EACT2B,WAAW,EAAKxD,MAAMmC,iBAAiBsB,eACvC3B,KAAK,YACLC,eAAe,CACXC,kBAAkB,EAClBC,gBAAgB,GAEpByB,aAAa,GACbxB,SAAS,GACTyB,UAAU,EAAK3D,MAAMmC,iBAAiBwB,UACtCtB,OAAO,GACPC,WAAW,EACXC,aAAc,SAAAC,GASV,OARAZ,EAAKxB,UAAS,SAAAH,GAAK,MAAK,CACpB0D,UAAWnB,EACXN,SAAS,CAACM,OACX,WACCZ,EAAK5B,MAAMmC,iBAAiBwB,UAAUnB,EACtCE,QAAQC,IAAIf,EAAK5B,MAAMmC,kBACvBP,EAAKgC,mBAEF,IAGZ,EAAK5D,MAAMmC,iBAAiBwB,WAAa,EAAK3D,MAAMmC,iBAAiBsB,gBACpE,EAAKxD,MAAMiC,SAAS2B,KAAK,EAAK7D,MAAMmC,iBAAiBwB,WA9B1C,E,8CAiCnB,WACIG,IAAMC,e,0BAGV,WACI,IAAInC,EAAKzB,KACH6D,EAAW,IAAIC,SACrBD,EAASE,OAAO,YAAY/D,KAAKF,MAAM0D,WACvCQ,IAAM,CACJC,IAAK,kBACLxB,OAAQ,OACRyB,aAAa,EACbC,KAAMN,EACNO,aAAc,SACbC,MAAK,SAACC,GAEL,GADA/B,QAAQC,IAAI8B,GACI,MAAbA,EAAIC,QAAkC,IAAlBD,EAAIH,KAAKI,OAC5B9C,EAAKxB,SAAS,CACVoD,YAAW,EACXE,aAAa,KACf,WACE9B,EAAK5B,MAAMmC,iBAAiBsB,gBAAe,UAS/C,GALA7B,EAAKxB,SAAS,CACVoD,YAAW,IACb,WACE5B,EAAK5B,MAAMmC,iBAAiBsB,gBAAe,KAE5CgB,EAAIH,KAAKK,QAAQ,CAChB,IAAIA,EAAQ,8BAAMF,EAAIH,KAAKK,UAC3B/C,EAAKxB,SAAS,CACVsD,aAAaiB,QAI1BC,OAAM,SAASC,GACdnC,QAAQC,IAAIkC,GACZjD,EAAKxB,SAAS,CACVoD,YAAW,EACXE,aAAa,0DACf,WACE9B,EAAK5B,MAAMmC,iBAAiBsB,gBAAe,U,0BAMvD,WACI,IAAMtB,EAAiBhC,KAAKH,MAAMmC,iBAC5BP,EAAKzB,KACXgE,IAAM,CACFC,IAAK,gBACLxB,OAAQ,OACRyB,aAAa,EACbE,aAAc,SACbC,MAAK,SAACM,GACL,IAAMC,EAAUD,EAAKR,KACfU,EAAO,IAAIC,KAAK,CAACF,IACnBG,EAAS/C,EAAiB+C,SAC9B,GAAI,aAAcC,SAAS/D,cAAc,KAAM,CAC7C,IAAMgE,EAAQD,SAAS/D,cAAc,KACrCgE,EAAMC,SAAWH,EACjBE,EAAM9E,MAAMgF,QAAU,OACtBF,EAAMG,KAAOC,IAAIC,gBAAgBT,GACjCG,SAASO,KAAKC,YAAYP,GAC1BA,EAAMQ,QACNJ,IAAIK,gBAAgBT,EAAMG,MAC1BJ,SAASO,KAAKI,YAAYV,QAE1BW,UAAUC,WAAWhB,EAAME,GAE7BtD,EAAK5B,MAAMiG,cAAcC,kBAC1BtB,OAAM,SAASC,GACdnC,QAAQC,IAAIkC,GACZjD,EAAK5B,MAAMiG,cAAcC,oB,oBAInC,WACI/F,KAAKH,MAAMiG,cAAcE,cACzB,IAAMvE,EAAKzB,KACL6D,EAAW,IAAIC,SACf9B,EAAiBhC,KAAKH,MAAMmC,iBAClC,GAAsC,IAAnCA,EAAiBD,SAASkE,QAAejE,EAAiBwB,UAA7D,CAIA,IAAI,IAAI0C,KAAQlE,EAAiBD,SAAS,CACxC,IAAIM,EAAKL,EAAiBD,SAASmE,GACnCrC,EAASE,OAAO,QAAS1B,GAE3BwB,EAASE,OAAO,YAAY/B,EAAiBwB,WAC7CQ,IAAM,CACJC,IAAK,YACLxB,OAAQ,OACRyB,aAAa,EACbC,KAAMN,IACLQ,MAAK,SAACC,GACL/B,QAAQC,IAAI8B,GACZ7C,EAAK0E,eACL1E,EAAK5B,MAAMkD,SAAS,MACrB0B,OAAM,SAASC,GACdnC,QAAQC,IAAIkC,GACZjD,EAAK5B,MAAMiG,cAAcC,uBAnBzB/F,KAAKH,MAAMuG,YAAY,4D,yBA0B/B,SAAYxD,GAIR,GAHAL,QAAQC,IAAII,GAGR5C,KAAKF,MAAMsD,UAAUiD,MAAMJ,OAA/B,CAGA,IAAI5D,EAAKrC,KAAKF,MAAMsD,UAAUiD,MAAM,GACpCrG,KAAKC,SAAS,CAACuD,UAAUnB,EAAKiE,UAAUjE,EAAKV,U,oBAOjD,WAAU,IAAD,OACL,OACI,sBAAKzB,UAAU,kBAAf,UACI,uBAAOgC,OAAO,IAAIO,OAAO,OAAQE,SAAU,SAACC,GAAKL,QAAQC,IAAII,IAA7D,UACI,qBAAKzC,MAAO,CAAC,UAAY,UAAzB,SACI,yDAEJ,8BACA,eAAC,EAAD,2BAAaH,KAAKF,OAAlB,IAAyB+C,OAAO,aAAhC,UACI,mBAAG3C,UAAU,uBAAb,SACA,cAAC4C,EAAA,EAAD,MAEA,mBAAG5C,UAAU,kBAAb,uDACA,mBAAGA,UAAU,kBAAb,6HAOR,8BACIF,KAAKF,MAAMyD,cAAgB,cAAC,IAAD,CAAOiB,QAASxE,KAAKF,MAAMyD,aAAc3C,KAAK,YAE7E,qBAAMV,UAAU,gBAAhB,SACI,cAAC,IAAD,CAAQqG,UAAWvG,KAAKF,MAAMuD,WAAYzC,KAAK,UAAUC,QAAS,WAAK,EAAK2F,UAA5E,2B,GAzLUxF,IAAMI,a,KCXrB,I,QC+BAqF,E,kDA1Bb,WAAY5G,GAAQ,IAAD,8BACb,cAAMA,IAEDC,MAAM,GAHE,E,0CAQjB,WACI,OACI,qBAAKI,UAAU,aAAf,SACA,cAAC,IAAD,CACIqE,OAAO,UACPmC,MAAM,2FACNC,SAAS,qDACTC,MAAO,CACL,cAAC,IAAD,CAAQhG,KAAK,UAAb,8B,GAjBOI,IAAMI,W,iBC0ChByF,GC9CA,I,kDDUb,WAAYhH,GAAQ,IAAD,8BACb,cAAMA,IAEDC,MAAM,CACTgH,WAAW,IAJA,E,0CASjB,WAAU,IAAD,OACL,OACI,sBAAK5G,UAAU,cAAf,UACI,8BACE,4DAEF,8BACA,cAAC,IAAD,UACA,cAAC,IAAD,CACE6G,UAAW,CACT3G,MAAO,IACP4G,OAAQ,KAEVF,WAAY9G,KAAKF,MAAMgH,WACvBG,OAAQ,CAAC,cAAe,kBACxBC,OAAQ,SAAAhB,GAAI,OAAIA,EAAKQ,aAIvB,qBAAMxG,UAAU,gBAAhB,SACI,cAAC,IAAD,CAAQU,KAAK,UAAUC,QAAS,WAAK,EAAKhB,MAAMkD,YAAhD,2B,GA9BM/B,IAAMI,Y,SEAjB+F,E,sCANbpF,SAAS,G,KACTE,QAAQ,G,KACRuB,e,OACAuB,SAAS,gC,KACTzB,gBAAe,GCGT8D,EAASC,IAATD,KACFpF,EAAiB,IAAImF,EAwEZG,EAtEdrE,Y,oDAEC,WAAYpD,GAAQ,IAAD,8BACb,cAAMA,IAEDA,MAAMiG,cAAcE,cACzB,EAAKlG,MAAM,CACTyH,QAAS,EACTC,WAAW,GANA,E,4CAUjB,SAASD,GACPvH,KAAKC,SAAS,CAAEsH,QAAQA,EACxBC,WAAWD,M,sBAGb,SAASA,GACJA,GAASvH,KAAKF,MAAM0H,YAAcD,GAASvH,KAAKF,MAAMyH,SACvDvH,KAAKC,SAAS,CAAEsH,c,8BAIpB,WAAmB,IAAD,OACZE,EAAU,CACZrB,YAAYpG,KAAKH,MAAMuG,YACvBN,cAAc9F,KAAKH,MAAMiG,cACzB9D,iBAAiBA,GAEnB,OAAOhC,KAAKF,MAAMyH,SAChB,KAAK,EAAE,OAAO,cAAC,EAAD,2BAAiBE,GAAjB,IAA4B1E,SAAU,kBAAI,EAAKA,SAAS,OACtE,KAAK,EAAE,OAAO,cAAC,EAAD,2BAAiB0E,GAAjB,IAA4B1E,SAAU,kBAAI,EAAKA,SAAS,OACtE,KAAK,EAAE,OAAO,cAAC,EAAD,2BAAqB0E,GAArB,IAAgC1E,SAAU,kBAAI,EAAKA,SAAS,OAC1E,KAAK,EAAE,OAAO,cAAC,EAAD,O,2BAIlB,SAAcwE,GACZ,OAAGA,EAAQvH,KAAKF,MAAM0H,WACb,SACAD,IAAUvH,KAAKF,MAAM0H,WACrB,UAEA,S,oBAIX,WAAU,IAAD,OACL,OACI,sBAAKtH,UAAU,WAAf,UACE,qBAAKA,UAAU,eAAf,SACKF,KAAK0H,qBAEV,qBAAKxH,UAAU,eAAf,SACE,eAAC,IAAD,CACAU,KAAK,aACT2G,QAASvH,KAAKF,MAAMyH,QACpBI,SAAU,SAACJ,GAAW,EAAKI,SAASJ,IACpCrH,UAAU,wBAJN,UAKE,cAACkH,EAAD,CAAM7C,OAAQvE,KAAK4H,cAAc,GAAIlB,MAAM,wBAC3C,cAACU,EAAD,CAAM7C,OAAQvE,KAAK4H,cAAc,GAAKlB,MAAM,yBAC5C,cAACU,EAAD,CAAM7C,OAAQvE,KAAK4H,cAAc,GAAIlB,MAAM,sBAC3C,cAACU,EAAD,CAAM7C,OAAQvE,KAAK4H,cAAc,GAAKlB,MAAM,qB,GA7DvC1F,IAAMI,a,8CCEd0E,GAFO,I,gIARpB,WACE9F,KAAK6H,SAAQ,I,0BAGf,WACE7H,KAAK6H,SAAQ,M,0CAPdC,K,yEAAmB,K,uCAEnB5F,K,gHAIAA,K,qFCgDY6F,I,OAhDd9E,Y,oDAEG,WAAYpD,GAAQ,IAAD,8BACf,cAAMA,IAEDC,MAAM,GAHI,E,8CAQnB,WACI6D,IAAMC,e,yBAGV,SAAYoE,GACR,IAAQC,EAAYtE,IAAZsE,QACJxG,EAAKzB,KACTiI,EAAQ,CACJvH,KAAM,cAACwH,GAAA,EAAD,IACNtD,QAAS,8BAAOoD,IAChBG,KAHI,WAIA1G,EAAKmC,cAETwE,SANI,WAOA3G,EAAKmC,kB,oBAMjB,WAAU,IAAD,OACL,OACI,sBAAK1D,UAAU,WAAf,UACI,qBAAKA,UAAU,eAAf,SACK,cAAC,EAAD,MAEL,qBAAKA,UAAU,kBAAf,SACI,cAAC,EAAD,CAAUkG,YAAa,SAACxD,GAAK,EAAKwD,YAAYxD,IAAKkD,cAAeA,OAErEA,GAAc+B,SAAW,qBAAK3H,UAAU,UAAf,SACtB,cAAC,IAAD,CAAMmI,KAAK,QAAQC,IAAI,wB,GAvCpBtH,IAAMI,a,GCKdmH,GAZdtF,Y,8JAEG,WACI,OACI,qBAAKuF,GAAG,gBAAgBtI,UAAU,cAAlC,SACI,cAAC,GAAD,U,GAJEc,IAAMI,a,ECOTqH,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBtE,MAAK,YAAkD,IAA/CuE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAAS/B,OACP,cAAC,IAAMgC,WAAP,UACE,cAAC,GAAD,MAEFlE,SAASmE,eAAe,QAM1BV,O","file":"static/js/main.6a573fd6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/HomePage.ce9ae323.styl\";","export default __webpack_public_path__ + \"static/media/Menu.7aab04b1.styl\";","import React from 'react';\nimport { Menu, Button } from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  PieChartOutlined\n}from '@ant-design/icons';\nimport './Menu.styl';\n\nclass MenuList extends React.Component {\n  constructor(props) {\n        super(props);\n        //react state\n        this.state={\n          collapsed: false,\n        }\n    }\n    \n    toggleCollapsed(){\n      this.setState({\n        collapsed: !this.state.collapsed,\n      });\n    };\n\n    render() {\n        return (\n            <div className=\"Menu\" style={{ width: this.state.collapsed?80:256 }}>\n            <Menu\n              defaultSelectedKeys={['1']}\n              mode=\"inline\"\n              theme=\"dark\"\n              inlineCollapsed={this.state.collapsed}\n            >\n              <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n                Generate License File\n              </Menu.Item>\n              <Button type=\"primary\" onClick={()=>{this.toggleCollapsed()}} style={{ marginBottom: 16 }}>\n              {React.createElement(this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined)}\n            </Button>\n            </Menu>\n          </div>\n        );\n    }\n}\n\nexport default MenuList;","export default __webpack_public_path__ + \"static/media/MainPage.760a69e2.styl\";","export default __webpack_public_path__ + \"static/media/CollectData.71b9e9b5.styl\";","import React from 'react';\nimport { Upload, Button,Modal} from 'antd';\nimport { UploadOutlined,ExclamationCircleOutlined } from '@ant-design/icons';\nimport {  message } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport 'page/CollectData/CollectData.styl';\nimport axios from 'axios';\nimport { Observer } from 'mobx-react';\n\nconst { Dragger } = Upload;\n\n@Observer\nclass CollectData extends React.Component {\n    constructor(props) {\n        super(props);\n        //react state\n        let self=this;\n        this.state={\n            multiple:true,\n            name:\"files\",\n            showUploadList:{\n                showDownloadIcon: false,\n                showRemoveIcon: false\n            },\n            fileList:this.props.licenseInfoStore.fileList,\n            fileMap:this.props.licenseInfoStore.fileMap,\n            action:\"\",\n            uploading: false,\n            beforeUpload: file => {\n                let fileMap=self.state.fileMap;\n                //file[]\n                if(fileMap[file.name]){\n                    if(fileMap[file.name].lastModifiedDate<file.lastModifiedDate){\n                        fileMap[file.name]=file;\n                        self.setState({\n                            fileMap: fileMap\n                        });\n                    }\n                }else{\n                    fileMap[file.name]=file;\n                    self.setState({\n                        fileMap: fileMap\n                    });\n                }\n                self.setState(state => ({\n                    fileList: [...state.fileList, file],\n                }),()=>{\n                    self.props.licenseInfoStore.fileList=this.state.fileList;\n                    console.log(self.props.licenseInfoStore);\n                });\n                return false;\n            }\n        }\n    }\n\n\n    render() {\n        return (\n            <div className=\"CollectData\" >\n                <form  action=\"/download\" method=\"post\" encType=\"multipart/form-data\" onSubmit={(e)=>{console.log(e);}}>\n                    <div style={{\"textAlign\":\"center\"}}>\n                        <h2>Upload the license information file</h2>\n                    </div>\n                    <div >\n                    <Dragger {...this.state} accept=\".htm,.html\">\n                        <p className=\"ant-upload-drag-icon\">\n                        <InboxOutlined />\n                        </p>\n                        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                        <p className=\"ant-upload-hint\">\n                        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                        band files\n                        </p>\n                    </Dragger>\n                    </div>\n                </form>    \n                <div  className=\"action-button\">\n                    <Button type=\"primary\" onClick={()=>{this.props.nextStep()}}>Next</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default CollectData;","export default __webpack_public_path__ + \"static/media/ExcelUploadPage.6fcde12c.styl\";","import React from 'react';\nimport { Upload, Button,Modal,Alert,message } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport './ExcelUploadPage.styl';\nimport axios from 'axios';\nimport { observer } from 'mobx-react';\n\nconst { Dragger } = Upload;\n\n\n@observer\nclass ExcelUploadPage extends React.Component {\n    constructor(props) {\n        super(props);\n        //react state\n        let self=this;\n        this.state={\n            multiple:false,\n            enableNext:this.props.licenseInfoStore.validExcelFile,\n            name:\"excelFile\",\n            showUploadList:{\n                showDownloadIcon: false,\n                showRemoveIcon: false\n            },\n            errorMessage:\"\",\n            fileList:[],\n            excelFile:this.props.licenseInfoStore.excelFile,\n            action:\"\",\n            uploading: false,\n            beforeUpload: file => {\n                self.setState(state => ({\n                    excelFile: file,\n                    fileList:[file]\n                }),()=>{\n                    self.props.licenseInfoStore.excelFile=file;\n                    console.log(self.props.licenseInfoStore);\n                    self.handleUpload();\n                });\n                return false;\n            }\n        }\n        if(this.props.licenseInfoStore.excelFile && this.props.licenseInfoStore.validExcelFile){\n            this.state.fileList.push(this.props.licenseInfoStore.excelFile)\n        }\n    }\n    destroyAll() {\n        Modal.destroyAll();\n    }\n\n    handleUpload (){\n        let self=this;\n        const formData = new FormData();\n        formData.append(\"excelFile\",this.state.excelFile);\n        axios({\n          url: '/checkExcelFile',\n          method: 'post',\n          processData: false,\n          data: formData,\n          responseType: 'json'})\n          .then((res) => { \n            console.log(res);\n            if(res.status===200 && res.data.status===0){\n                self.setState({\n                    enableNext:true,\n                    errorMessage:\"\"\n                },()=>{\n                    self.props.licenseInfoStore.validExcelFile=true;\n                });\n                \n            }else{\n                self.setState({\n                    enableNext:false\n                },()=>{\n                    self.props.licenseInfoStore.validExcelFile=false;\n                });\n                if(res.data.message){\n                    let message=<pre>{res.data.message}</pre>;\n                    self.setState({\n                        errorMessage:message\n                    });\n                }\n            }\n        }).catch(function(error){\n            console.log(error);\n            self.setState({\n                enableNext:false,\n                errorMessage:\"Has internal server error, please check the log file.\"\n            },()=>{\n                self.props.licenseInfoStore.validExcelFile=false;\n            });\n            //self.props.showMessage(\"Has internal server error, please check the log file.\");\n        });\n    }\n\n    downloadFile(){\n        const licenseInfoStore=this.props.licenseInfoStore;\n        const self=this;\n        axios({\n            url: '/downloadFile',\n            method: 'post',\n            processData: false,\n            responseType: 'blob'})\n            .then((res2) => { // 处理返回的文件流\n              const content = res2.data;\n              const blob = new Blob([content]);\n              let fileName=licenseInfoStore.fileName;\n              if ('download' in document.createElement('a')) { // 非IE下载\n                const elink = document.createElement('a');\n                elink.download = fileName;\n                elink.style.display = 'none';\n                elink.href = URL.createObjectURL(blob);\n                document.body.appendChild(elink);\n                elink.click();\n                URL.revokeObjectURL(elink.href); // 释放URL 对象\n                document.body.removeChild(elink);\n              } else { // IE10+下载\n                navigator.msSaveBlob(blob, fileName);\n              }\n              self.props.homePageStore.closeLoading();\n          }).catch(function(error){\n              console.log(error);\n              self.props.homePageStore.closeLoading();\n          });\n    }\n\n    submit (){\n        this.props.homePageStore.showLoading();\n        const self=this;\n        const formData = new FormData();\n        const licenseInfoStore=this.props.licenseInfoStore;\n        if(licenseInfoStore.fileList.length===0 || !licenseInfoStore.excelFile){\n            this.props.showMessage(\"Please confrim if upload the excel file and html file.\");\n            return;\n        }\n        for(let item in licenseInfoStore.fileList){\n          let file=licenseInfoStore.fileList[item];  \n          formData.append('files', file);\n        }\n        formData.append(\"excelFile\",licenseInfoStore.excelFile);\n        axios({\n          url: '/download',\n          method: 'post',\n          processData: false,\n          data: formData})\n          .then((res) => { \n            console.log(res);\n            self.downloadFile();\n            self.props.nextStep(3);\n        }).catch(function(error){\n            console.log(error);\n            self.props.homePageStore.closeLoading();\n        });\n        \n    }\n\n\n\n    uploadExcel(e){\n        console.log(e);\n        //e.preventDefault();\n        //return true;\n        if(!this.state.UploadBtn.files.length){\n            return;\n        }\n        let file=this.state.UploadBtn.files[0];\n        this.setState({excelFile:file,excelName:file.name});\n    }\n\n    setUploadBtnRef = element => {\n        this.state.UploadBtn = element;\n    };\n\n    render() {\n        return (\n            <div className=\"ExcelUploadPage\" >\n                <form  action=\"/\" method=\"post\"  onSubmit={(e)=>{console.log(e);}}>\n                    <div style={{\"textAlign\":\"center\"}}>\n                        <h2>Upload the excel file</h2>\n                    </div>\n                    <div >\n                    <Dragger {...this.state} accept=\".xls,.xlsx\">\n                        <p className=\"ant-upload-drag-icon\">\n                        <InboxOutlined />\n                        </p>\n                        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n                        <p className=\"ant-upload-hint\">\n                        Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n                        band files\n                        </p>\n                    </Dragger>\n                    </div>\n                </form>  \n                <div>\n                 {  this.state.errorMessage && <Alert message={this.state.errorMessage} type=\"error\" />}\n                </div>  \n                <div  className=\"action-button\">\n                    <Button disabled={!this.state.enableNext} type=\"primary\" onClick={()=>{this.submit()}}>Next</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ExcelUploadPage;","export default __webpack_public_path__ + \"static/media/FinishPage.351ee804.styl\";","import React from 'react';\nimport './FinishPage.styl';\nimport { Result, Button } from 'antd';\n\nclass FinishPage extends React.Component {\n  constructor(props) {\n        super(props);\n        //react state\n        this.state={\n        }\n    }\n\n\n    render() {\n        return (\n            <div className=\"FinishPage\">\n            <Result\n                status=\"success\"\n                title=\"Successfully upload license information file. Please check the excel if can be download!\"\n                subTitle=\"Download file need takes 1-5 minutes, please wait.\"\n                extra={[\n                  <Button type=\"primary\">\n                    Go Home\n                  </Button>,\n                ]}\n              />\n          </div>\n        );\n    }\n}\n\nexport default FinishPage;","import React from 'react';\nimport { Upload, Button,Modal} from 'antd';\nimport {\n  ConfigProvider,\n  Transfer,\n\n} from 'antd';\nimport './ConfirmPage.styl';\n\nclass ConfirmPage extends React.Component {\n  constructor(props) {\n        super(props);\n        //react state\n        this.state={\n          dataSource:[]\n        }\n    }\n\n\n    render() {\n        return (\n            <div className=\"ConfirmPage\">\n                <div>\n                  <h1>Confrim need upload file</h1>\n                </div>\n                <div>\n                <ConfigProvider>\n                <Transfer\n                  listStyle={{\n                    width: 400,\n                    height: 400,\n                  }}\n                  dataSource={this.state.dataSource}\n                  titles={['Upload file', 'Duplicate file']}\n                  render={item => item.title}\n                />\n                </ConfigProvider>\n                </div>\n                <div  className=\"action-button\">\n                    <Button type=\"primary\" onClick={()=>{this.props.nextStep()}}>Next</Button>\n                </div>\n          </div>\n        );\n    }\n}\n\nexport default ConfirmPage;","export default __webpack_public_path__ + \"static/media/ConfirmPage.e0714624.styl\";","import {observable, action} from 'mobx';\r\n\r\nclass LicenseInfoStore {\r\n  fileList=[];\r\n  fileMap={};\r\n  excelFile;\r\n  fileName=\"Company Software License.xlsx\";\r\n  validExcelFile=false;\r\n}\r\nexport default LicenseInfoStore;","import React from 'react';\nimport './MainPage.styl';\nimport CollectData from 'page/CollectData/CollectData.js';\nimport ExcelUploadPage from 'page/ExcelUploadPage/ExcelUploadPage.js';\nimport FinishPage from 'page/FinishPage/FinishPage.js';\nimport ConfirmPage from 'page/ConfirmPage/ConfirmPage.js';\n\nimport { Steps,Button} from 'antd';\nimport { observer } from 'mobx-react';\nimport LicenseInfoStore from 'store/LicenseInfoStore.js'\nconst { Step } = Steps;\nconst licenseInfoStore=new LicenseInfoStore();\n\n@observer\nclass MainPage extends React.Component {\n  constructor(props) {\n        super(props);\n        //react state\n        this.props.homePageStore.showLoading()\n        this.state={\n          current: 0,\n          maxCurrent:0\n        }\n    }\n\n    nextStep(current){\n      this.setState({ current:current,\n      maxCurrent:current });\n    };\n\n    onChange(current){\n      if(current<=this.state.maxCurrent && current!=this.state.current){\n        this.setState({ current });\n      }\n    }\n\n    getPageBycurrent(){\n      let propsAttr={\n        showMessage:this.props.showMessage,\n        homePageStore:this.props.homePageStore,\n        licenseInfoStore:licenseInfoStore\n      };\n      switch(this.state.current){\n        case 0:return <CollectData {...propsAttr} nextStep={()=>this.nextStep(1)}></CollectData>\n        case 1:return <ConfirmPage {...propsAttr} nextStep={()=>this.nextStep(2)}></ConfirmPage>\n        case 2:return <ExcelUploadPage {...propsAttr} nextStep={()=>this.nextStep(3)}></ExcelUploadPage>\n        case 3:return <FinishPage></FinishPage>\n      }\n    }\n\n    getStepStatus(current){\n      if(current<this.state.maxCurrent){\n        return \"finish\"\n      }else if(current===this.state.maxCurrent){\n        return \"process\"\n      }else{\n        return \"wait\";\n      }\n    }\n\n    render() {\n        return (\n            <div className=\"MainPage\">\n              <div className=\"step-content\">\n                  {this.getPageBycurrent()}\n              </div>\n              <div className=\"step-wrapper\">\n                <Steps           \n                type=\"navigation\"\n            current={this.state.current}\n            onChange={(current)=>{this.onChange(current)}}\n            className=\"site-navigation-steps\">\n                  <Step status={this.getStepStatus(0)} title=\"Upload license file\"  />\n                  <Step status={this.getStepStatus(1)}  title=\"Confirm license file\"  />\n                  <Step status={this.getStepStatus(2)} title=\"Upload excel file\"  />\n                  <Step status={this.getStepStatus(3)}  title=\"Done\"  />\n                </Steps>    \n              </div>          \n          </div>\n        );\n    }\n}\n\nexport default MainPage;","import {observable, action} from 'mobx';\r\n\r\n\r\nclass HomePageStore {\r\n  @observable loading=false;\r\n\r\n  @action showLoading(){\r\n    this.loading=true;\r\n  }\r\n\r\n  @action closeLoading(){\r\n    this.loading=false;\r\n  }\r\n}\r\nconst homePageStore = new HomePageStore;\r\n\r\nexport default homePageStore;","import React from 'react';\nimport 'page/HomePage/HomePage.styl';\nimport MenuList from 'component/Menu/Menu.js';\nimport MainPage from 'page/MainPage/MainPage.js';\nimport { Spin,Modal} from 'antd';\nimport homePageStore from 'store/HomePageStore.js';\nimport { observer } from 'mobx-react';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\n\nimport 'antd/dist/antd.css';\n@observer\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n        //react state\n        this.state={\n\n        }\n    }\n\n    destroyAll() {\n        Modal.destroyAll();\n    }\n      \n    showMessage(msg) {\n        const { confirm } = Modal;\n        let self=this;\n        confirm({\n            icon: <ExclamationCircleOutlined />,\n            content: <div >{msg}</div>,\n            onOk() {\n                self.destroyAll()\n            },\n            onCancel() {\n                self.destroyAll()\n            },\n        });       \n      }\n    \n\n    render() {\n        return (\n            <div className=\"HomePage\" >\n                <div className=\"menu-wrapper\">\n                     <MenuList></MenuList>                    \n                </div>\n                <div className=\"contain-wrapper\">\n                    <MainPage showMessage={(e)=>{this.showMessage(e)}} homePageStore={homePageStore}></MainPage>\n                </div>\n                {homePageStore.loading && <div className=\"loading\">                \n                    <Spin size=\"large\" tip=\"Loading...\"></Spin>\n                </div>}\n            </div>\n            \n        );\n    }\n}\n\nexport default HomePage;","import React from 'react';\r\nimport HomePage from './page/HomePage/HomePage.js';\r\nimport { observer } from 'mobx-react';\r\n\r\n@observer\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <div id=\"App_Conponent\" className=\"Application\">\r\n                <HomePage></HomePage>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default App; \r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\n//import 'babel-polyfill'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './index.css';\r\nimport App from './App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('app')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n"],"sourceRoot":""}